/*
 * Global.h
 *
 *  Created on: 2016. 10. 25.
 *      Author: jeongyoungmin
 */

#ifndef GLOBAL_H_
#define GLOBAL_H_

#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>
#include <sys/mman.h>
#include <errno.h>
#include <signal.h>


#define MAXFUNC    5
#define STRLEN    21
#define MAXCNT	3
#define SIGALARMTIME 20

typedef struct {
	char functionName[STRLEN];
	unsigned int state;
	void (*FuncPtr)();
} Menu;

typedef struct{	
	char name[STRLEN-1];
	char part[STRLEN-1];
	char rank[STRLEN-1];
	unsigned int state;	
} Operator;

typedef struct{
	char name[STRLEN];
	char location[32];
	Operator *operator;
	unsigned int state;
} Weapon;

typedef struct{
	char name[STRLEN];
	char location[32];
	Operator *operator;
	unsigned int state;
} Missile;

typedef struct{
	unsigned int weaponCnt;
	unsigned int missileCnt;
	unsigned int operatorCnt;
	unsigned int requestCnt;
} State;

typedef struct{
	unsigned int operatorNumber;
	unsigned int state;
	char functionName[41];	
	char reasons[50];	
	
} Request;

Menu **menu;
State* state;
Weapon **weapon;
Missile **missile;
Operator **operator;
Request **request;

void AlarmHandle(int signo);

#endif /* GLOBAL_H_ */
